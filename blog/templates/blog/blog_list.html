<div>
    <h1>Blog Posts</h1>

    <form method="POST" action = "{% url 'logout' %}">
        {% csrf_token %}
            {{ form }}
        <button type="submit"> Logout </button>
    </form>
    <br></br>
    <form method="GET">
    <input type="text" name="q" placeholder="Search..."
           value="{{ query }}">
    <button type="submit">Search</button>
    </form>

    <a href="{% url 'blog:blog-add' %}">Add New Blog Post</a>
    {% for blog in blogs %}
        <div><a style="text-decoration: none;" href="{% url 'blog:blog-detail' blog.slug %}">
            <h2>{{ blog.title }} <small style="color: gray; text-decoration: none;">- by @{{ blog.author }}</small></h2>
            {% comment %} <small>{{ blog.created_at }}</small> {% endcomment %}
        </a>
        </div>
    {% endfor %}

    <div>
    {% if is_paginated %}

        {% if page_obj.has_previous %}
            <a href="?q={{ query }}&page=1">First</a>
            <a href="?q={{ query }}&page={{ page_obj.previous_page_number }}">Previous</a>
        {% endif %}

        <span>
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
        </span>

        {% if page_obj.has_next %}
            <a href="?q={{ query }}&page={{ page_obj.next_page_number }}">Next</a>
            <a href="?q={{ query }}&page={{ page_obj.paginator.num_pages }}">Last</a>
        {% endif %}

    {% endif %}
</div>

</div>